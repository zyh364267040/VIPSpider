# -*- coding = utf-8 -*-
# @Time: 2021/11/7 上午9:26
import requests
import execjs


if __name__ == '__main__':
    # 需要翻译的词句
    word = input('请输入需要翻译的单词或句子:')

    f = open('./百度翻译L().js', mode='r', encoding='utf-8')
    js = execjs.compile(f.read())

    # e是执行的js文件中的函数,love是参数,要翻译的内容
    # ret = js.call('e', 'love')
    # print(ret)

    url = 'https://fanyi.baidu.com/v2transapi?from=en&to=zh'
    data = {
        'from': 'en',
        'to': 'zh',
        'query': word,
        'transtype': 'translang',
        'simple_means_flag': 3,
        'sign': js.call('e', word),
        'token': '9d1447f4509ebaa74966b262c1619edf',
        'domain': 'common'
    }
    headers = {
        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36',
        'Referer': 'https://fanyi.baidu.com/',
        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
        'Cookie': 'REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; BIDUPSID=5FBEF0CA0377588519928AF2B6759977; PSTM=1603716309; __yjs_duid=1_293b95763f9b9ef22783adc5c6a7e11c1619877425246; MCITY=-%3A; BDUSS=E1kNzdmRTl2Ujg0VkY4ajRHdE9iQThMMmtrMExISVB5RlNERWkyLTctR1pERWhoRVFBQUFBJCQAAAAAAAAAAAEAAACpwN4n0KG71DkwMTIyNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJl~IGGZfyBhd; BDUSS_BFESS=E1kNzdmRTl2Ujg0VkY4ajRHdE9iQThMMmtrMExISVB5RlNERWkyLTctR1pERWhoRVFBQUFBJCQAAAAAAAAAAAEAAACpwN4n0KG71DkwMTIyNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJl~IGGZfyBhd; BDSFRCVID=fruOJeC62mR3TSQHekCmMawMJfUwqdJTH6aod9WyO10au7nADNfZEG0PhM8g0KuMSuOoogKK02OTHzFF_2uxOjjg8UtVJeC6EG0Ptf8g0f5; H_BDCLCKID_SF=JbAtoKD-JKvJfJjkM4rHqR_Lqxby26nktRn9aJ5nJDoWqJc1y6j1KP4S34c4Q5vDB6RTWKJ_QpP-HJA9jR3iMP_tKM_t0qvPbecMKl0MLn7Ybb0xyT8VMM3beMnMBMnGamOnanr73fAKftnOM46JehL3346-35543bRTLnLy5KJtMDFle5DWjjbQjHR-etJXHDj03R7L2n5_KROvhjR43x_gyxoObtRxtTciKbOdaMbiVP5yyUt2bUPUDMJ9LU3k-eTB_nDEaqjGJJROXhjJhnJ-QttjQn342NnmW-5tXKoNSJ7TyU42Dx47yaQi0q4Hb6b9BJcjfU5MSlcNLTjpQT8r5MDOK5OuJRLe_I_-JK_5MCvNq4b_q4ut-fnEaPQXHD7yWCvXLhQcOR5Jj6KbqfJ05Go72h3vJTTvah0M5hkVqRjh3MA--tRLhl7DX4RgtGkjQf58QhO2sq0x0-5le-bQypouWb8L3COMahkMtq7xOKjoQlPK5JkgMx6MqpQJQeQ-5KQN3KJmfbL9bT3tjjTLjNujtj0OfKresJoq2RbhKROvhjRRW58gyxoObtRxtTc4QKOdaM-hot5yyUt2bUPUDMJ9LU3kBTn9LMnx--t58h3_XhjJ-t0yQttjQn39QmrOKftEa-n6jb7TyU42Dx47yaQi0q4Hb6b9BJcjfU5MSlcNLTjpQT8r5MDOK5OuJRLe_CD-JIt-MCv4btOEK4LS52Tea4raK4oJ3R7tKRA_Hn7zePjK5f4pbt-qJtrNtangblnH2hOV8Jj6Xf6t3J-Lb-6nBT5KaKP8--TvtCJHfD3kLfOFblIkQN3TaUuO5bRiLl6Rbl7oDn3oyT0KXp0n24jly5jtMgOBBJ0yQ4b4OR5JjxonDh83bG7MJPKtfD7H3KCatDD5bM5; BDSFRCVID_BFESS=fruOJeC62mR3TSQHekCmMawMJfUwqdJTH6aod9WyO10au7nADNfZEG0PhM8g0KuMSuOoogKK02OTHzFF_2uxOjjg8UtVJeC6EG0Ptf8g0f5; H_BDCLCKID_SF_BFESS=JbAtoKD-JKvJfJjkM4rHqR_Lqxby26nktRn9aJ5nJDoWqJc1y6j1KP4S34c4Q5vDB6RTWKJ_QpP-HJA9jR3iMP_tKM_t0qvPbecMKl0MLn7Ybb0xyT8VMM3beMnMBMnGamOnanr73fAKftnOM46JehL3346-35543bRTLnLy5KJtMDFle5DWjjbQjHR-etJXHDj03R7L2n5_KROvhjR43x_gyxoObtRxtTciKbOdaMbiVP5yyUt2bUPUDMJ9LU3k-eTB_nDEaqjGJJROXhjJhnJ-QttjQn342NnmW-5tXKoNSJ7TyU42Dx47yaQi0q4Hb6b9BJcjfU5MSlcNLTjpQT8r5MDOK5OuJRLe_I_-JK_5MCvNq4b_q4ut-fnEaPQXHD7yWCvXLhQcOR5Jj6KbqfJ05Go72h3vJTTvah0M5hkVqRjh3MA--tRLhl7DX4RgtGkjQf58QhO2sq0x0-5le-bQypouWb8L3COMahkMtq7xOKjoQlPK5JkgMx6MqpQJQeQ-5KQN3KJmfbL9bT3tjjTLjNujtj0OfKresJoq2RbhKROvhjRRW58gyxoObtRxtTc4QKOdaM-hot5yyUt2bUPUDMJ9LU3kBTn9LMnx--t58h3_XhjJ-t0yQttjQn39QmrOKftEa-n6jb7TyU42Dx47yaQi0q4Hb6b9BJcjfU5MSlcNLTjpQT8r5MDOK5OuJRLe_CD-JIt-MCv4btOEK4LS52Tea4raK4oJ3R7tKRA_Hn7zePjK5f4pbt-qJtrNtangblnH2hOV8Jj6Xf6t3J-Lb-6nBT5KaKP8--TvtCJHfD3kLfOFblIkQN3TaUuO5bRiLl6Rbl7oDn3oyT0KXp0n24jly5jtMgOBBJ0yQ4b4OR5JjxonDh83bG7MJPKtfD7H3KCatDD5bM5; BAIDUID=4FDC09A472B530DD169C4F93476904A3:FG=1; H_PS_PSSID=34445_34989_34067_31660_34712_34584_34504_34917_34812_26350_34973_35018; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; BAIDUID_BFESS=4FDC09A472B530DD169C4F93476904A3:FG=1; delPer=0; PSINO=2; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1634220224,1636186993,1636204475,1636248409; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1636248409; __yjs_st=2_ZGZlYWE1MWI1ZDQwNWM3ZWRhOTBjMDRiZGY5NzJlZTIzZmU2ZTcxMzEwNjMwYzAzMWJjMGViNjQzOWQ2ZTM2OGFhOTgwOTJkNmIzMjQyYWZlNmJkOTU2ODI3M2RiNDAzOTgyOWExZDU2MDlkZmVjNzFmZTEzNTM0ZmY2ZWJjNDc5NDkzZTYxYmM5YTQ4NDYwNGM2YmEwMWQzM2VmZTU2OWZhZDE0MjE1MmViMWI3YTU2ZTNkZDllYzYzNmY1NTU0NjUzOTc4NzM2OGUyMzZmODQxY2FhNTQ4MThkYzM3NzUzMzIwM2E5YTkzZWU3NTViMDNiMjhjMWMyMDFjZjE4MV83X2IxNGVmODIz; ab_sr=1.0.1_MjNkMWZjMWZjYWQ5YTdjMmVlYzZjMTIyNjY2NDg4YjZiM2RjOWZmZDM1YjhkZTUzNDcwODNiN2YyZjYyNzY5NTY1ODBhZjg0YmFhOTM3YmZkYzlkNTJkMDRjMzNjODE5YmFkNGIxMzE5YzkzM2Q4MTg4MDIyMTZjYjI5ZjVmN2ZhYjJhNjRhYTZiOTJhZDBjM2I4NWY0MWVmY2E1MzI2NDQxNWNmNzY3N2YwZGZmODRiMTY5Y2Y5NDIxMzY0MmYz'
    }

    resp = requests.post(url=url, data=data, headers=headers)
    print(resp.json())
